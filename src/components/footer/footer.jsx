import React, { useState, useRef, useEffect } from 'react';
import classes from "./footer.module.css";
import logoWhite from "../../assets/images/logo-white.png";

const Footer = () => {
	const [isFooterLinksOpen, setIsFooterLinksOpen] = useState(false);
	const [OPENFOOTERLINKSHEIGHT, setOpenFooterLinksHeight] = useState(null);
	const [footerLinksHeight, setFooterLinksHeight] = useState(null);
	const linksRef = useRef(null);

	useEffect(() => {
		setOpenFooterLinksHeight(linksRef.current.scrollHeight);
		setFooterLinksHeight(0);
	}, [])

	const toggleLinks = () => {
		if(!footerLinksHeight || footerLinksHeight === "0px") {
			setIsFooterLinksOpen(true);
			setFooterLinksHeight(OPENFOOTERLINKSHEIGHT);
		} else {
			setIsFooterLinksOpen(false);
			setFooterLinksHeight(0);
		}
	}

	return (
		<footer>
			<div className={classes.footer__wrapper}>
				<a className={classes.footer__logo} href="#">
					<img src={logoWhite} alt="logo" className={classes.footer__logoImg}></img>
					<span className={classes.footer__title}>© 2025 VibeArt</span>
				</a>
				<div className={classes.footer__links}>
					<a href="#" className={classes.footer__linksLink}>О нас</a>
					<a href="#" className={classes.footer__linksLink}>Поддержка</a>
					<button
						className={classes.footer__linksMore}
						onClick={toggleLinks}
					>
						<div className={classes.moreWrapper}>
							<p className={classes.moreText}>Ещё</p>
							<div id="arrow" className={isFooterLinksOpen ? `${classes.arrow} ${classes.arrowRotated}` : classes.arrow}></div>
						</div>
						<div
							className={isFooterLinksOpen ? `${classes.footer__hiddenLinks} ${classes.hiddenLinksShow} ${classes.show}` : `${classes.footer__hiddenLinks}`}
							style={OPENFOOTERLINKSHEIGHT === null ? {} : {height: footerLinksHeight + "px"}}
							ref={linksRef}
							onClick={(e) => {e.stopPropagation()}}
						>
							<a href="#" className={classes.hiddenLinksLink}>Правила</a>
							<a href="#" className={classes.hiddenLinksLink}>FAQ</a>
							<a href="#" className={classes.hiddenLinksLink}>Ссылка</a>
							<a href="#" className={classes.hiddenLinksLink}>Ссылка</a>
							<a href="#" className={classes.hiddenLinksLink}>Ссылка</a>
						</div>
					</button>
				</div>
				<div className={classes.footer__socials}>
					<a target="_blank" className={classes.socialsLink} href="https://vk.com/bitsulov">
						<svg className={classes.vkImg} xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 512 512" enableBackground="new 0 0 512 512" width="100%" xmlnsXlink="http://www.w3.org/1999/xlink" xmlSpace="preserve">
							<g><path style={{opacity: 1}} fill="#0077FF" d="M 155.5,-0.5 C 222.167,-0.5 288.833,-0.5 355.5,-0.5C 380.317,0.352577 404.984,3.51924 429.5,9C 467.667,19.1667 491.833,43.3333 502,81.5C 507.408,106.024 510.574,130.691 511.5,155.5C 511.5,222.167 511.5,288.833 511.5,355.5C 510.574,380.309 507.408,404.976 502,429.5C 491.833,467.667 467.667,491.833 429.5,502C 404.976,507.408 380.309,510.574 355.5,511.5C 288.833,511.5 222.167,511.5 155.5,511.5C 129.605,510.675 103.938,507.175 78.5,501C 41.998,490.187 18.8313,466.354 9,429.5C 3.60203,405.311 0.435365,380.977 -0.5,356.5C -0.5,289.167 -0.5,221.833 -0.5,154.5C 0.435365,130.023 3.60203,105.689 9,81.5C 19.1667,43.3333 43.3333,19.1667 81.5,9C 106.024,3.59234 130.691,0.425676 155.5,-0.5 Z"/></g>
							<g><path style={{opacity: 1}} fill="#ffffff" d="M 222.5,268.5 C 223.663,245.004 223.83,221.337 223,197.5C 222.721,194.543 221.887,191.877 220.5,189.5C 217.317,182.807 213.483,176.474 209,170.5C 208.045,165.577 209.879,162.077 214.5,160C 236.833,159.333 259.167,159.333 281.5,160C 285.265,161.597 287.265,164.43 287.5,168.5C 287.333,196.502 287.5,224.502 288,252.5C 288.278,253.416 288.778,254.082 289.5,254.5C 289.874,256.95 291.374,257.95 294,257.5C 296.732,257.385 299.232,256.552 301.5,255C 315.605,241.632 327.439,226.465 337,209.5C 344.467,196.232 351.134,182.565 357,168.5C 359.222,164.612 362.388,161.779 366.5,160C 382.833,159.333 399.167,159.333 415.5,160C 419.678,161.171 422.011,163.837 422.5,168C 421.394,174.049 419.561,179.883 417,185.5C 403.502,210.509 388.502,234.509 372,257.5C 369.793,260.532 368.293,263.866 367.5,267.5C 367.577,269.299 368.077,270.966 369,272.5C 386.018,290.187 402.351,308.52 418,327.5C 438.069,355.338 430.903,367.004 396.5,362.5C 388.833,362.333 381.167,362.167 373.5,362C 370.853,360.701 368.186,359.368 365.5,358C 352.141,343.642 338.475,329.642 324.5,316C 317.844,310.335 310.51,305.668 302.5,302C 298.833,301.333 295.167,301.333 291.5,302C 289.951,303.214 288.785,304.714 288,306.5C 287.667,322.167 287.333,337.833 287,353.5C 285.833,356 284,357.833 281.5,359C 267.293,363.326 252.959,363.659 238.5,360C 206.385,351.029 179.551,333.863 158,308.5C 128.397,271.307 106.064,229.974 91,184.5C 88.891,177.967 88.2243,171.3 89,164.5C 90.5578,162.641 92.3911,161.141 94.5,160C 110.5,159.333 126.5,159.333 142.5,160C 147.573,161.406 151.073,164.572 153,169.5C 164.014,203.198 180.014,234.198 201,262.5C 204.201,266.036 207.701,269.203 211.5,272C 214.03,273.422 216.697,273.755 219.5,273C 221.376,272.082 222.376,270.582 222.5,268.5 Z"/></g>
						</svg>						
					</a>
					<a target="_blank" className={classes.socialsLink} href="https://t.me/bitsulov">
						<svg className={classes.telegramImg} version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlnsXlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
							width="100%" viewBox="0 0 512 512" enableBackground="new 0 0 512 512" xmlSpace="preserve">
							<path fill="rgb(45, 164, 224)" opacity="1.000000" stroke="none" 
								d="
							M280.000000,513.000000 
								C264.979095,513.000000 249.958206,513.000000 234.317932,512.595581 
								C224.790695,511.114166 215.756012,510.650604 206.999832,508.840118 
								C184.755188,504.240784 163.258087,497.171173 142.910980,486.958923 
								C123.999527,477.467285 106.008484,466.382141 90.566887,451.854492 
								C78.068207,440.095581 65.616272,428.064453 54.774467,414.819153 
								C38.484745,394.918213 25.996788,372.483124 17.078732,348.265137 
								C10.271711,329.779907 4.841172,310.907745 2.954437,291.168610 
								C2.595916,287.417755 1.666181,283.721466 1.000000,280.000000 
								C1.000000,264.979095 1.000000,249.958206 1.402853,234.309753 
								C2.869553,225.587509 3.704677,217.454849 5.041433,209.405487 
								C8.618037,187.868774 15.537942,167.356476 24.812399,147.642670 
								C34.639133,126.754974 47.056469,107.548836 62.292824,90.142815 
								C74.949936,75.683311 88.642914,62.408218 104.118744,50.962357 
								C123.276711,36.793198 143.842926,25.269285 166.203796,16.969671 
								C184.394897,10.217736 202.998672,5.184870 222.323013,2.968276 
								C226.239075,2.519084 230.108871,1.666572 234.000000,0.999999 
								C249.020889,1.000000 264.041779,1.000000 279.688538,1.401451 
								C288.393372,2.867117 296.508087,3.714215 304.544403,5.037458 
								C326.097931,8.586423 346.615509,15.524639 366.333649,24.801365 
								C387.223389,34.629261 406.868591,46.581879 423.714478,62.435608 
								C436.217865,74.202530 448.622345,86.287338 459.493256,99.526039 
								C475.711975,119.277298 487.978760,141.649658 496.897186,165.659561 
								C503.763367,184.144455 509.159027,203.059204 511.045532,222.822891 
								C511.403839,226.576584 512.333801,230.275696 513.000000,234.000000 
								C513.000000,249.020889 513.000000,264.041779 512.595520,279.682068 
								C511.128845,288.383972 510.282776,296.501892 508.962769,304.542053 
								C505.426605,326.081390 498.505188,346.592590 489.223969,366.285980 
								C479.378052,387.177490 467.431335,406.849518 451.569885,423.716003 
								C439.929260,436.094177 428.040680,448.461365 414.892212,459.147278 
								C395.188324,475.160950 373.121521,487.563293 349.158081,496.458191 
								C330.327423,503.447845 311.183136,508.906464 291.154022,511.039734 
								C287.408936,511.438629 283.716644,512.333862 280.000000,513.000000 
							M332.768890,384.612885 
								C335.530396,381.951141 339.094482,379.743347 340.904510,376.543396 
								C346.573517,366.521149 348.229675,355.321167 348.985291,343.203033 
								C350.284271,337.143585 351.864746,331.128632 352.831696,325.016663 
								C356.339600,302.843872 359.508942,280.617218 363.066193,258.452637 
								C365.637726,242.430084 368.923431,226.518890 371.326752,210.473557 
								C373.286591,197.388824 374.952240,184.211716 375.749725,171.015213 
								C376.505310,158.512299 368.786346,152.543381 356.549683,155.608536 
								C348.238373,157.690430 339.918945,160.091766 331.997406,163.318237 
								C293.122955,179.151962 254.309738,195.141403 215.615906,211.411209 
								C188.807693,222.683426 162.196823,234.428055 135.562332,246.108795 
								C124.983833,250.748047 114.524101,255.669952 104.124557,260.699402 
								C100.194160,262.600250 97.448318,265.696960 98.053421,270.599274 
								C98.664650,275.551178 102.588287,277.381836 106.449333,278.765686 
								C116.079399,282.217102 125.752144,285.605927 135.571289,288.456543 
								C144.390457,291.016907 153.333099,293.473419 162.393494,294.795258 
								C172.364609,296.250031 181.343872,292.085022 189.484421,286.730957 
								C210.645844,272.813080 231.591537,258.567688 252.699066,244.567169 
								C268.009552,234.411819 283.368439,224.323563 298.911621,214.532211 
								C300.828461,213.324707 304.016113,214.134491 306.614868,214.009460 
								C306.052094,216.572311 306.354279,219.998657 304.791962,221.563721 
								C290.094757,236.286896 275.111847,250.726120 260.145081,265.178619 
								C248.054123,276.854095 235.608841,288.176025 223.819565,300.146088 
								C215.545441,308.547119 216.406677,315.836975 225.389359,323.445770 
								C226.019485,323.979492 226.714996,324.439331 227.399277,324.905365 
								C253.103500,342.410797 278.687378,360.097473 304.588196,377.307129 
								C312.722351,382.711792 321.285278,388.460236 332.768890,384.612885 
							z"/>
							<path fill="#ffffff" opacity="1.000000" stroke="none" 
								d="
							M332.112762,384.603912 
								C321.285278,388.460236 312.722351,382.711792 304.588196,377.307129 
								C278.687378,360.097473 253.103500,342.410797 227.399277,324.905365 
								C226.714996,324.439331 226.019485,323.979492 225.389359,323.445770 
								C216.406677,315.836975 215.545441,308.547119 223.819565,300.146088 
								C235.608841,288.176025 248.054123,276.854095 260.145081,265.178619 
								C275.111847,250.726120 290.094757,236.286896 304.791962,221.563721 
								C306.354279,219.998657 306.052094,216.572311 306.614868,214.009460 
								C304.016113,214.134491 300.828461,213.324707 298.911621,214.532211 
								C283.368439,224.323563 268.009552,234.411819 252.699066,244.567169 
								C231.591537,258.567688 210.645844,272.813080 189.484421,286.730957 
								C181.343872,292.085022 172.364609,296.250031 162.393494,294.795258 
								C153.333099,293.473419 144.390457,291.016907 135.571289,288.456543 
								C125.752144,285.605927 116.079399,282.217102 106.449333,278.765686 
								C102.588287,277.381836 98.664650,275.551178 98.053421,270.599274 
								C97.448318,265.696960 100.194160,262.600250 104.124557,260.699402 
								C114.524101,255.669952 124.983833,250.748047 135.562332,246.108795 
								C162.196823,234.428055 188.807693,222.683426 215.615906,211.411209 
								C254.309738,195.141403 293.122955,179.151962 331.997406,163.318237 
								C339.918945,160.091766 348.238373,157.690430 356.549683,155.608536 
								C368.786346,152.543381 376.505310,158.512299 375.749725,171.015213 
								C374.952240,184.211716 373.286591,197.388824 371.326752,210.473557 
								C368.923431,226.518890 365.637726,242.430084 363.066193,258.452637 
								C359.508942,280.617218 356.339600,302.843872 352.831696,325.016663 
								C351.864746,331.128632 350.284271,337.143585 348.674683,343.875824 
								C347.906677,347.309631 347.516998,350.083923 346.980072,352.829407 
								C344.667877,364.652496 343.001862,376.789948 332.112762,384.603912 
							z"/>
							<path fill="#ffffff" opacity="1.000000" stroke="none" 
							d="
						M332.440826,384.608398 
							C343.001862,376.789948 344.667877,364.652496 346.980072,352.829407 
							C347.516998,350.083923 347.906677,347.309631 348.624817,344.256714 
							C348.229675,355.321167 346.573517,366.521149 340.904510,376.543396 
							C339.094482,379.743347 335.530396,381.951141 332.440826,384.608398 
						z"/>
						</svg>
					</a>
					<a target="_blank" className={classes.socialsLink} href="https://discordapp.com/users/476105393391665152/">
						<svg className={classes.discordImg} version="1.1" xmlns="http://www.w3.org/2000/svg"
							width="480.000000pt" height="342.000000pt" viewBox="0 0 480.000000 342.000000"
							preserveAspectRatio="xMidYMid meet"
						>
							<g transform="translate(0.000000,342.000000) scale(0.100000,-0.100000)"
							fill="rgb(102, 101, 210)" stroke="none">
								<path d="M1575 3403 c-81 -11 -269 -59 -373 -94 -148 -51 -368 -160 -497 -247
								l-100 -67 -70 -141 c-196 -391 -375 -957 -454 -1429 -42 -249 -71 -547 -71
								-729 0 -77 1 -80 41 -133 64 -82 218 -225 311 -287 231 -153 552 -257 803
								-260 l99 -1 128 155 c70 85 128 158 128 161 0 4 -35 19 -77 34 -161 56 -332
								154 -456 260 -64 54 -181 184 -173 192 2 2 34 -15 72 -38 97 -59 351 -181 464
								-223 234 -86 548 -161 772 -185 143 -16 462 -13 618 5 255 29 540 97 752 180
								134 52 340 152 436 212 45 28 82 47 82 42 0 -19 -106 -133 -178 -191 -145
								-117 -276 -190 -455 -254 -51 -18 -91 -36 -90 -40 1 -3 59 -76 128 -161 144
								-174 119 -161 283 -143 310 34 619 154 827 322 79 64 173 157 221 219 43 56
								44 57 44 135 0 200 -37 546 -85 807 -82 442 -264 1001 -443 1357 l-67 134 -81
								55 c-292 198 -667 338 -957 357 -93 6 -99 5 -122 -17 -14 -13 -25 -27 -25 -31
								0 -5 19 -13 43 -19 87 -24 317 -114 454 -180 160 -77 280 -146 399 -231 113
								-81 123 -99 29 -51 -395 197 -813 314 -1263 353 -177 15 -581 6 -737 -15 -414
								-58 -800 -173 -1115 -331 -51 -25 -94 -44 -97 -41 -2 2 19 23 49 47 201 160
								563 341 891 444 114 36 118 38 101 56 -14 16 -30 19 -88 18 -39 -1 -84 -4
								-101 -6z m193 -1520 c197 -59 324 -294 279 -516 -31 -153 -113 -265 -242 -328
								-65 -32 -76 -34 -170 -34 -94 0 -105 2 -168 34 -128 62 -212 175 -243 324 -37
								177 39 378 177 469 114 75 232 91 367 51z m1425 17 c122 -20 244 -104 300
								-207 62 -116 74 -295 28 -415 -89 -230 -342 -340 -555 -240 -176 82 -278 281
								-248 482 28 194 152 337 323 375 80 17 82 17 152 5z"/>
							</g>
						</svg>
					</a>
				</div>
			</div>
		</footer>
	)
}

export default Footer;